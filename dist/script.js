"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var jobLisings=[],mainCtn=document.querySelector("main"),filterCtn=document.querySelector(".filtersCtn"),filterTagsCtn=document.querySelector(".filter"),searchQuery=[],roleArr=[],levelArr=[];fetch("./data.json").then((function(e){return e.json()})).then((function(e){(jobLisings=e).map((function(e){var t=e.company,n=e.logo,o=e.new,r=e.featured,a=e.position,l=e.role,i=e.level,s=e.postedAt,c=e.contract,d=e.location,u=e.languages,f=e.tools,p=[l,i,u.join(" "),0!==f.length?f.join(" "):null];e.filters=p.join(" ").split(" ").filter((function(e){return""!==e})),roleArr.includes(l)||roleArr.push(l),levelArr.includes(i)||levelArr.push(i),mainCtn.innerHTML+="\n            <div data-role=".concat(l,"  data-level=").concat(i,' data-languages="').concat(u.join(", "),'" data-tools="').concat(0!==f.length?f.join(", "):"",'" class="card relative flex flex-col lg:flex-row lg:justify-between bg-white rounded-md px-6 font-semibold lg:px-9 lg:items-center lg:py-5 my-9 shadow-lg">\n                <div class="card__infoSection mt-11 lg:mt-0 lg:flex gap-x-10 items-center">\n                <img class="w-14 lg:w-24 lg:h-24 absolute lg:relative lg:top-0 top-[-20px]" src=').concat(n,' alt="">\n                <div class="card__infoSection--companyInfo self-center">\n                    <div class="header flex items-center gap-x-3 py-3">\n                        <p class="companyName font-semibold mr-2 text-lg">').concat(t,"</p>\n                        ").concat(o?'<span class="uppercase new font-semibold py-1 px-3 rounded-full">New!</span>\n                        ':"","\n                        ").concat(r?'<span class="uppercase featured font-semibold py-1 px-3 rounded-full">Featured</span>\n                        ':"",'\n                    </div>\n                    <p class="position font-semibold text-lg"> ').concat(a,' </p>\n                    <div class="listingInfo flex items-center gap-x-2 py-1">\n                        <p>').concat(s,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(c,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(d,'</p>\n                    </div>\n                </div>\n                </div>\n                <div class="card__tagsSection py-8 text-lg flex flex-wrap gap-4 ">\n                    ').concat(generateTags(e),'\n                </div>\n                <hr class="bg-gray-300 absolute w-[89%] top-44 h-[1.7px]  hide-for-desktop">\n          </div>\n            ')}))})).catch((function(e){return console.log(e)}));var generateTags=function(e){var t=[],n=e.role,o=e.level,r=e.languages,a=e.tools,l="";t.push(n,o),r.forEach((function(e){t.push(e)})),a.forEach((function(e){t.push(e)}));return t.forEach((function(e){l+="\n        <button ".concat(function(e){return n.includes(e)?"onclick=\"filterBy('role', '".concat(e,"')\""):o.includes(e)?"onclick=\"filterBy('level', '".concat(e,"')\""):r.includes(e)?"onclick=\"filterBy('language', '".concat(e,"')\""):a.includes(e)?"onclick=\"filterBy('tool', '".concat(e,"')\""):void 0}(e),' class="py-2 px-4 rounded-md ">').concat(e,"</button>\n        ")})),l},roleFiltered=!1,levelFiltered=!1,filterBy=function(e,t){searchQuery.includes(t)?searchQuery.includes(t)&&Toastify({text:"".concat(t," ").concat(e," is already in the filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"#fff",color:"#ff0000"}}).showToast():"role"==e&&0==roleFiltered?(roleFiltered=!0,searchQuery.push(t),Toastify({text:"".concat(t," has been added to filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast()):"role"==e&&roleFiltered?Toastify({text:"".concat(t," is a ").concat(e," and a ").concat(e," has been added to filter"),duration:2500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"#fff",color:"#ff0000"}}).showToast():"level"!=e||levelFiltered?"level"==e&&levelFiltered?Toastify({text:"".concat(t," is a ").concat(e," and a ").concat(e," has been added to filter"),duration:2500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"#fff",color:"#ff0000"}}).showToast():(searchQuery.push(t),Toastify({text:"".concat(t," has been added to filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast()):(levelFiltered=!levelFiltered,searchQuery.push(t),Toastify({text:"".concat(t," has been added to filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast()),console.log(roleFiltered,levelFiltered),updateUI(),filterCtn.classList.remove("invisible"),filterTagsCtn.innerHTML="\n        ".concat(generateFilters(),"\n    "),console.log(searchQuery)},generateFilters=function(){var e="";return searchQuery.forEach((function(t){e+='\n        <button class="button cursor-pointer rounded-md overflow-hidden pl-3 font-semibold flex items-center justify-between">'.concat(t," <div onclick=\"removeFilter('").concat(t,'\')" class="h-full p-2 ml-1 "><img class="w-3" src="./images/close (2).png" alt=""></div></button>\n        ')})),e},removeFilter=function(e){searchQuery=searchQuery.filter((function(t){return t!==e})),Toastify({text:"".concat(e," have been removed !"),duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, hsl(180, 14%, 20%), hsl(180, 14%, 20%))"}}).showToast(),filterTagsCtn.innerHTML="\n        ".concat(generateFilters(),"\n    "),updateUI(),0==searchQuery.length&&(filterCtn.classList.add("invisible"),mainCtn.innerHTML="",jobLisings.map((function(e){var t=e.company,n=e.logo,o=e.new,r=e.featured,a=e.position,l=e.role,i=e.level,s=e.postedAt,c=e.contract,d=e.location,u=e.languages,f=e.tools;mainCtn.innerHTML+="\n            <div data-role=".concat(l,"  data-level=").concat(i,' data-languages="').concat(u.join(", "),'" data-tools="').concat(0!==f.length?f.join(", "):"",'" class="card relative flex flex-col lg:flex-row lg:justify-between bg-white rounded-md px-6 font-semibold lg:px-9 lg:items-center lg:py-5 my-9 shadow-lg">\n                <div class="card__infoSection mt-11 lg:mt-0 lg:flex gap-x-10 items-center">\n                <img class="w-14 lg:w-24 lg:h-24 absolute lg:relative lg:top-0 top-[-20px]" src=').concat(n,' alt="">\n                <div class="card__infoSection--companyInfo self-center">\n                    <div class="header flex items-center gap-x-3 py-3">\n                        <p class="companyName font-semibold mr-2 text-lg">').concat(t,"</p>\n                        ").concat(o?'<span class="uppercase new font-semibold py-1 px-3 rounded-full">New!</span>\n                        ':"","\n                        ").concat(r?'<span class="uppercase featured font-semibold py-1 px-3 rounded-full">Featured</span>\n                        ':"",'\n                    </div>\n                    <p class="position font-semibold text-lg"> ').concat(a,' </p>\n                    <div class="listingInfo flex items-center gap-x-2 py-1">\n                        <p>').concat(s,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(c,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(d,'</p>\n                    </div>\n                </div>\n                </div>\n                <div class="card__tagsSection py-8 text-lg flex flex-wrap gap-4 ">\n                    ').concat(generateTags(e),'\n                </div>\n                <hr class="bg-gray-300 absolute w-[89%] top-44 h-[1.7px]  hide-for-desktop">\n          </div>\n            ')})))},clearFilter=function(){searchQuery=[],filterCtn.classList.add("invisible"),Toastify({text:"All filters cleared !",duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, hsl(180, 14%, 20%), hsl(180, 14%, 0%))"}}).showToast(),updateUI()},updateUI=function(){var e,t=[];if(0!==searchQuery.length){for(var n=function(t){e=jobLisings.filter((function(e){return e.filters.includes(searchQuery[t])}))},o=0;o<searchQuery.length;o++)n(o);e.map((function(e,n){for(var o=e.filters,r=0;r<searchQuery.length;r++)!o.includes(searchQuery[r])&&t.push(n)})),t=t.length>0?_toConsumableArray(new Set(t)):t}console.log(e),console.log(t)};
//# sourceMappingURL=script.js.map