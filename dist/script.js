"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,n):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var jobLisings=[],mainCtn=document.querySelector("main"),filterCtn=document.querySelector(".filtersCtn"),filterTagsCtn=document.querySelector(".filter"),searchQuery=[],roleArr=[],levelArr=[],loaded=!0;Toastify({text:"Click on the tags tablet to filter jobs",duration:3e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast(),fetch("./data.json").then((function(e){return e.json()})).then((function(e){(jobLisings=e).map((function(e){var n=e.company,t=e.logo,o=e.new,a=e.featured,l=e.position,i=e.role,r=e.level,s=e.postedAt,c=e.contract,d=e.location,p=e.languages,f=e.tools,u=[i,r,p.join(" "),0!==f.length?f.join(" "):null];e.filters=u.join(" ").split(" ").filter((function(e){return""!==e})),roleArr.includes(i)||roleArr.push(i),levelArr.includes(r)||levelArr.push(r),mainCtn.innerHTML+="\n            <div data-role=".concat(i,"  data-level=").concat(r,' data-languages="').concat(p.join(", "),'" data-tools="').concat(0!==f.length?f.join(", "):"",'" class="card relative flex flex-col lg:flex-row lg:justify-between bg-white rounded-md px-6 font-semibold lg:px-9 lg:items-center lg:py-5 my-9 shadow-lg">\n                <div class="card__infoSection mt-11 lg:mt-0 lg:flex gap-x-10 items-center">\n                <img class="w-14 lg:w-24 lg:h-24 absolute lg:relative lg:top-0 top-[-20px]" src=').concat(t,' alt="">\n                <div class="card__infoSection--companyInfo self-center">\n                    <div class="header flex items-center gap-x-3 py-3">\n                        <p class="companyName font-semibold mr-2 text-lg">').concat(n,"</p>\n                        ").concat(o?'<span class="uppercase new font-semibold py-1 px-3 rounded-full">New!</span>\n                        ':"","\n                        ").concat(a?'<span class="uppercase featured font-semibold py-1 px-3 rounded-full">Featured</span>\n                        ':"",'\n                    </div>\n                    <p class="position font-semibold text-lg"> ').concat(l,' </p>\n                    <div class="listingInfo flex items-center gap-x-2 py-1">\n                        <p>').concat(s,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(c,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(d,'</p>\n                    </div>\n                </div>\n                </div>\n                <div class="card__tagsSection py-8 text-lg flex flex-wrap gap-4 ">\n                    ').concat(generateTags(e),'\n                </div>\n                <hr class="bg-gray-300 absolute w-[89%] top-44 h-[1.7px]  hide-for-desktop">\n          </div>\n            ')}))})).catch((function(e){return console.log(e)}));var generateTags=function(e){var n=[],t=e.role,o=e.level,a=e.languages,l=e.tools,i="";n.push(t,o),a.forEach((function(e){n.push(e)})),l.forEach((function(e){n.push(e)}));return n.forEach((function(e){i+="\n        <button ".concat(function(e){return t.includes(e)?"onclick=\"filterBy('role', '".concat(e,"')\""):o.includes(e)?"onclick=\"filterBy('level', '".concat(e,"')\""):a.includes(e)?"onclick=\"filterBy('language', '".concat(e,"')\""):l.includes(e)?"onclick=\"filterBy('tool', '".concat(e,"')\""):void 0}(e),' class="py-2 px-4 rounded-md"><p class="animate__animated ').concat(loaded?"animate__flash":"",'">').concat(e,"</p></button>\n        ")})),setTimeout((function(){loaded=!1}),1e3),i},roleFiltered=!1,levelFiltered=!1,filterBy=function(e,n){searchQuery.includes(n)?searchQuery.includes(n)&&Toastify({text:"".concat(n," ").concat(e," is already in the filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"#fff",color:"#ff0000"}}).showToast():"role"==e&&0==roleFiltered?(roleFiltered=!0,searchQuery.push(n),Toastify({text:"".concat(n," has been added to filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast()):"role"==e&&roleFiltered?Toastify({text:"".concat(n," is a ").concat(e," and a ").concat(e," has been added to filter"),duration:2500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"#fff",color:"#ff0000"}}).showToast():"level"!=e||levelFiltered?"level"==e&&levelFiltered?Toastify({text:"".concat(n," is a ").concat(e," and a ").concat(e," has been added to filter"),duration:2500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"#fff",color:"#ff0000"}}).showToast():(searchQuery.push(n),Toastify({text:"".concat(n," has been added to filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast()):(levelFiltered=!levelFiltered,searchQuery.push(n),Toastify({text:"".concat(n," has been added to filter"),duration:1500,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast()),updateUI(),filterCtn.classList.remove("invisible"),filterTagsCtn.innerHTML="\n        ".concat(generateFilters(),"\n    "),console.log(searchQuery)},generateFilters=function(){var e="";return searchQuery.forEach((function(n){e+='\n        <button class="button cursor-pointer rounded-md overflow-hidden pl-3 font-semibold flex items-center justify-between">'.concat(n," <div onclick=\"removeFilter('").concat(n,'\')" class="h-full p-2 ml-1 "><img class="w-3" src="./images/close (2).png" alt=""></div></button>\n        ')})),e},removeFilter=function(e){searchQuery=searchQuery.filter((function(n){return n!==e})),roleArr.includes(e)&&(roleFiltered=!1),levelArr.includes(e)&&(levelFiltered=!1),Toastify({text:"".concat(e," have been removed !"),duration:1e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, hsl(180, 14%, 20%), hsl(180, 14%, 20%))"}}).showToast(),filterTagsCtn.innerHTML="\n        ".concat(generateFilters(),"\n    "),updateUI(),0==searchQuery.length&&(filterCtn.classList.add("invisible"),mainCtn.innerHTML="",jobLisings.map((function(e){var n=e.company,t=e.logo,o=e.new,a=e.featured,l=e.position,i=e.role,r=e.level,s=e.postedAt,c=e.contract,d=e.location,p=e.languages,f=e.tools;mainCtn.innerHTML+="\n            <div data-role=".concat(i,"  data-level=").concat(r,' data-languages="').concat(p.join(", "),'" data-tools="').concat(0!==f.length?f.join(", "):"",'" class="card relative flex flex-col lg:flex-row lg:justify-between bg-white rounded-md px-6 font-semibold lg:px-9 lg:items-center lg:py-5 my-9 shadow-lg">\n                <div class="card__infoSection mt-11 lg:mt-0 lg:flex gap-x-10 items-center">\n                <img class="w-14 lg:w-24 lg:h-24 absolute lg:relative lg:top-0 top-[-20px]" src=').concat(t,' alt="">\n                <div class="card__infoSection--companyInfo self-center">\n                    <div class="header flex items-center gap-x-3 py-3">\n                        <p class="companyName font-semibold mr-2 text-lg">').concat(n,"</p>\n                        ").concat(o?'<span class="uppercase new font-semibold py-1 px-3 rounded-full">New!</span>\n                        ':"","\n                        ").concat(a?'<span class="uppercase featured font-semibold py-1 px-3 rounded-full">Featured</span>\n                        ':"",'\n                    </div>\n                    <p class="position font-semibold text-lg"> ').concat(l,' </p>\n                    <div class="listingInfo flex items-center gap-x-2 py-1">\n                        <p>').concat(s,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(c,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(d,'</p>\n                    </div>\n                </div>\n                </div>\n                <div class="card__tagsSection py-8 text-lg flex flex-wrap gap-4 ">\n                    ').concat(generateTags(e),'\n                </div>\n                <hr class="bg-gray-300 absolute w-[89%] top-44 h-[1.7px]  hide-for-desktop">\n          </div>\n            ')})))},clearFilter=function(){searchQuery=[],filterCtn.classList.add("invisible"),levelFiltered=!1,roleFiltered=!1,Toastify({text:"All filters cleared !",duration:2e3,newWindow:!0,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"hsl(180, 29%, 50%)",color:"#fff"}}).showToast(),updateUI()},updateUI=function(){var e,n=[];if(0==searchQuery.length)mainCtn.innerHTML="",jobLisings.map((function(e){var n=e.company,t=e.logo,o=e.new,a=e.featured,l=e.position,i=e.role,r=e.level,s=e.postedAt,c=e.contract,d=e.location,p=e.languages,f=e.tools;mainCtn.innerHTML+="\n            <div data-role=".concat(i,"  data-level=").concat(r,' data-languages="').concat(p.join(", "),'" data-tools="').concat(0!==f.length?f.join(", "):"",'" class="card relative flex flex-col lg:flex-row lg:justify-between bg-white rounded-md px-6 font-semibold lg:px-9 lg:items-center lg:py-5 my-9 shadow-lg">\n                <div class="card__infoSection mt-11 lg:mt-0 lg:flex gap-x-10 items-center">\n                <img class="w-14 lg:w-24 lg:h-24 absolute lg:relative lg:top-0 top-[-20px]" src=').concat(t,' alt="">\n                <div class="card__infoSection--companyInfo self-center">\n                    <div class="header flex items-center gap-x-3 py-3">\n                        <p class="companyName font-semibold mr-2 text-lg">').concat(n,"</p>\n                        ").concat(o?'<span class="uppercase new font-semibold py-1 px-3 rounded-full">New!</span>\n                        ':"","\n                        ").concat(a?'<span class="uppercase featured font-semibold py-1 px-3 rounded-full">Featured</span>\n                        ':"",'\n                    </div>\n                    <p class="position font-semibold text-lg"> ').concat(l,' </p>\n                    <div class="listingInfo flex items-center gap-x-2 py-1">\n                        <p>').concat(s,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(c,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(d,'</p>\n                    </div>\n                </div>\n                </div>\n                <div class="card__tagsSection py-8 text-lg flex flex-wrap gap-4 ">\n                    ').concat(generateTags(e),'\n                </div>\n                <hr class="bg-gray-300 absolute w-[89%] top-44 h-[1.7px]  hide-for-desktop">\n          </div>\n            ')}));else{mainCtn.innerHTML="";for(var t=function(n){e=jobLisings.filter((function(e){return e.filters.includes(searchQuery[n])}))},o=0;o<searchQuery.length;o++)t(o);e.map((function(e,t){for(var o=e.filters,a=0;a<searchQuery.length;a++)!o.includes(searchQuery[a])&&n.push(t)})),n=n.length>0?_toConsumableArray(new Set(n)):n,e=e.filter((function(t){return!n.includes(e.indexOf(t))}))}e&&e.map((function(e){var n=e.company,t=e.logo,o=e.new,a=e.featured,l=e.position,i=e.role,r=e.level,s=e.postedAt,c=e.contract,d=e.location,p=e.languages,f=e.tools;mainCtn.innerHTML+="\n            <div data-role=".concat(i,"  data-level=").concat(r,' data-languages="').concat(p.join(", "),'" data-tools="').concat(0!==f.length?f.join(", "):"",'" class="card relative flex flex-col lg:flex-row lg:justify-between bg-white rounded-md px-6 font-semibold lg:px-9 lg:items-center lg:py-5 my-9 shadow-lg">\n                <div class="card__infoSection mt-11 lg:mt-0 lg:flex gap-x-10 items-center">\n                <img class="w-14 lg:w-24 lg:h-24 absolute lg:relative lg:top-0 top-[-20px]" src=').concat(t,' alt="">\n                <div class="card__infoSection--companyInfo self-center">\n                    <div class="header flex items-center gap-x-3 py-3">\n                        <p class="companyName font-semibold mr-2 text-lg">').concat(n,"</p>\n                        ").concat(o?'<span class="uppercase new font-semibold py-1 px-3 rounded-full">New!</span>\n                        ':"","\n                        ").concat(a?'<span class="uppercase featured font-semibold py-1 px-3 rounded-full">Featured</span>\n                        ':"",'\n                    </div>\n                    <p class="position font-semibold text-lg"> ').concat(l,' </p>\n                    <div class="listingInfo flex items-center gap-x-2 py-1">\n                        <p>').concat(s,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(c,'</p>\n                        <i class="bi bi-dot"></i>\n                        <p>').concat(d,'</p>\n                    </div>\n                </div>\n                </div>\n                <div class="card__tagsSection py-8 text-lg flex flex-wrap gap-4 ">\n                    ').concat(generateTags(e),'\n                </div>\n                <hr class="bg-gray-300 absolute w-[89%] top-44 h-[1.7px]  hide-for-desktop">\n          </div>\n            ')}))};
//# sourceMappingURL=script.js.map